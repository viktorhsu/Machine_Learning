1.1 模型选择--确定测试集和训练集

1、通过留出法来设置测试集和训练集：适合大数据量。没有一个完美的解决方案来设定测试集和训练集占总样本集合的比例，常见做法是2/3 ～ 4/5用于训练。

2、通过交叉验证法来设置训练集和测试集：适合大数据量。即将样本集先分成k个大小和结构均相似的互斥的子集，然后每次选出其中一个子集作为测试集，剩余的k-1个子集作为训练集。每次记录下当前测试集的测试结果后，即选用其它的集合作为新的测试集，并同样记录下测试结果。从而可以进行k次测试，得到k个测试结果。将k个测试结果的平均值作为测试结果。一般情况下，k值取为10.
此外，如何划分出k个不同的子集，也没有一个完美的解决方案。常见做法是，划分p次，即划分出p个不同的k个子集。最终，取p次k折的交叉验证结果的均值。常见为10次10折。（最精确的为留一法，即如果有m个样本集，即分成m个子集，每次取其中一个为测试集，该方法虽然更准确，但是成本非常高）

3、通过自助法设置训练集和测试集：适合小数据量。即假设有样本集有m个子集，每次从该样本集中有放回的抽取一个子集，抽取m次，即获得了一个含有m个子集的新数据集，将该新数据集作为训练集，剩余未被抽取的子集作为测试集。（大约有36.8%的子集不会被抽取，而被当作测试集）




1.2 模型选择--调参
理想状态下，尝试每种可能的参数值，选取测试结果最好的值作为最终的模型参数值。但是，现实情况下，并不可能做到将所有的可能的值作为参数值去进行测试。因此，可以通过先确定参数值所在的范围，再根据确定的范围，确定一个适合的步长，从而可以在现有的条件下，达到一个比较满意的结果。

注意：通过以上方法确定了最优的模型后，这个模型并不是我们需要给客户的模型，因为，在上述方法中，每次通过训练集来获取模型时，都会有部分数据集被挑出作为测试集，而没有被利用。所以，我们选出最优模型后，还需要将所有的数据集都作为训练集，来重新训练模型。最终将该训练后的模型提供给客户。

注意：两种不同的“验证集”，一种验证集是用于来求解最优模型的；另一种验证集是用来评判最终模型在实际使用时的泛化能力的。




1.3 模型的评判

1、错误率与精度

2、查准率与查全率：一般来说，当数据量很大时，查准率越高，查全率就会越低；在数据量比较小时，可以实现查准率和查全率都很高。

3、有些案例更重视查全率，而有些案例则更重视查准率。

4、P-R图和P-R曲线：当样本量很大时，假设需要用模型来预测样本是否为正例，将预测结果进行排序。排在前面的为模型认为最可能为正例的样本。以第一个样本的查准的概率作为阈值时，则该模型对所有样本进行预测后，查准率无限接近于1，但查全率则接近于0.如果以最后一个样本的查准的概率作为阈值时，则该模型对所有样本进行预测后，查全率会为1，但当样本数量无限大时，查准率则无限接近于0，

3、如果两条P-R曲线没有交叉点，则外层的P-R曲线所代表的模型/学习器要优于内层曲线代表的模型。如果有交叉点，则可以根据平衡点的位置来判断哪条曲线代表的模型更好，即比较面积。



